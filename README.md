<div align="center">
  <img align="middle" src="https://github.com/I-Al-Istannen/Doctor/blob/master/media/Logo-Alpha.png?raw=true" height="200" width="200">
  <h1>Doc-Tor</h1>
</div>

Did you ever wish to tell somebody on discord to just read the (Java-)docs
while not being rude? Did you ever wish to point out some cool Java method or
class or highlight specific parts of the documentation?  
Then Doctor is for you :)

Doctor is best explained by a short demo:

https://user-images.githubusercontent.com/20284688/127779847-51c0b890-4ac8-4ddf-ac99-5054e40315bb.mp4

A small sidenote that didn't show up in the video:  
Doctor uses its own custom Java formatter to try and produce readable output in
narrow Discord embeds:  
<img align="middle" src="https://github.com/I-Al-Istannen/Doctor/blob/master/media/Declaration-Formatting.png?raw=true" height="300">


## Running Doctor
The Doctor jar file can be build using `mvn package` and just takes a single
argument:
```
java -jar Doctor.jar <path to config file>
```

Most of the magic happens in the config file. I added some comments in here
which are technically not valid JSON but help understand the format:
```js
{
  /* Your discord token */
  "token": "DISCORD-TOKEN",

  /*
   * A list of all databases Doctor should look up queries in.
   * Databases are generated by https://github.com/I-Al-Istannen/JavadocApi
   */
  "databases": [
    /*
     * Each entry contains a path to the database and a baseUrl used to craft
     * external links (i.e. the title and any @see / @link tags). If you
     * do not set a usable URL here, users will not be able to navigate to
     * the external HTML Javadoc.
     */
    {
      "path": "Jdk-Index.db",
      "baseUrl": "https://docs.oracle.com/en/java/javase/16/docs/api/"
    },
    /*
     * Additionally some projects make use of the "external Javadoc" feature
     * of the Javadoc tool. This allows them to actually *link* foreign types
     * they use in their source code. If you want Doctor to also be able to
     * link to that (e.g. to have a clickable link to some Guava class) you
     * need to provide it with a list of all external Javadocs the program uses.
     * This is the same information you pass to the Javadoc tool, so finding the
     * values shouldn't be too hard
     */
    {
      "path": "Paper-Api-Index.db",
      "baseUrl": "https://papermc.io/javadocs/paper/1.16/",
      "externalJavadocs": [
        "https://guava.dev/releases/21.0/api/docs/",
        "https://javadoc.io/doc/org.yaml/snakeyaml/1.28/",
        "https://javadoc.io/doc/org.jetbrains/annotations/21.0.1/",
        "https://javadoc.io/doc/net.md-5/bungeecord-chat/1.16-R0.4/",
        "https://jd.adventure.kyori.net/api/4.8.1/",
        "https://jd.adventure.kyori.net/text-serializer-gson/4.8.1/",
        "https://jd.adventure.kyori.net/text-serializer-legacy/4.8.1/",
        "https://jd.adventure.kyori.net/text-serializer-plain/4.8.1/"
      ]
    }
  ]
}
```

And with that you should be set :)
